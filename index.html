<!DOCTYPE html>
<html dir="rtl" lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>نظام تداول المنتجات الزراعية</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    
</head>
<body>
    <!-- شاشة التحميل المتميزة -->
    <div id="loadingScreen">
        <div class="loading-container">
            <!-- مشهد المزرعة المتحرك -->
            <div class="farm-scene">
                <!-- الشمس -->
                <div class="sun">
                    <div class="sunray"></div>
                    <div class="sunray"></div>
                    <div class="sunray"></div>
                    <div class="sunray"></div>
                    <div class="sunray"></div>
                    <div class="sunray"></div>
                    <div class="sunray"></div>
                    <div class="sunray"></div>
                </div>
                
                <!-- السحب -->
                <div class="cloud cloud-1"></div>
                <div class="cloud cloud-2"></div>
                
                <!-- قطرات الماء -->
                <div class="drops-container">
                    <div class="drop"></div>
                    <div class="drop"></div>
                    <div class="drop"></div>
                    <div class="drop"></div>
                </div>
                
                <!-- النباتات -->
                <div class="plant plant-1">
                    <div class="stem">
                        <div class="leaf leaf-1"></div>
                        <div class="leaf leaf-2 right"></div>
                    </div>
                </div>
                
                <div class="plant plant-2">
                    <div class="stem">
                        <div class="leaf leaf-1"></div>
                        <div class="leaf leaf-2 right"></div>
                    </div>
                </div>
                
                <div class="plant plant-3">
                    <div class="stem">
                        <div class="leaf leaf-1"></div>
                        <div class="leaf leaf-2 right"></div>
                    </div>
                </div>
                
                <!-- التربة -->
                <div class="soil"></div>
            </div>
            
            <!-- نص التحميل وشريط التقدم -->
            <div class="loading-text">جاري تحميل نظام تداول المنتجات الزراعية</div>
            <div class="loading-progress">
                <div class="loading-bar"></div>
            </div>
            <div class="loading-percentage">0%</div>
            
            <!-- الشعار -->
            <div class="logo">
                <i class="fas fa-leaf"></i>
                <div class="logo-text"></div>
            </div>
        </div>
    </div>

    <div id="app">
        <div id="authView" class="auth-container">
            <div class="auth-box animate-in">
                <div class="auth-tabs">
                    <button class="auth-tab active" onclick="switchAuthTab('login')">تسجيل الدخول</button>
                    <button class="auth-tab" onclick="switchAuthTab('register')">تسجيل جديد</button>
                </div>
                
                <div id="loginSection" class="auth-form">
                    <h2 style="text-align: center; margin-bottom: 30px;">
                        <i class="fas fa-leaf" style="color: var(--primary-color); font-size: 48px; margin-bottom: 15px;"></i>
                        <br>تسجيل الدخول
                    </h2>
                    <form id="loginForm" onsubmit="handleLogin(event)">
                        <div class="form-group">
                            <label><i class="fas fa-envelope"></i> البريد الإلكتروني</label>
                            <input type="email" name="email" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label><i class="fas fa-lock"></i> كلمة المرور</label>
                            <input type="password" name="password" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label><i class="fas fa-user-tag"></i> نوع الحساب</label>
                            <select name="role" class="form-control" required>
                                <option value="farmer">فلاح</option>
                                <option value="merchant">تاجر</option>
                                <option value="consumer">مستهلك</option>
                                <option value="factory">مصنع</option>
                            </select>
                        </div>
                        <button type="submit" class="btn">
                            <i class="fas fa-sign-in-alt"></i>
                            دخول
                        </button>
                    </form>
                </div>

                <div id="registerSection" class="auth-form" style="display: none;">
                    <h2 style="text-align: center; margin-bottom: 30px;">
                        <i class="fas fa-user-plus" style="color: var(--primary-color); font-size: 48px; margin-bottom: 15px;"></i>
                        <br>تسجيل جديد
                    </h2>
                    <form id="registerForm" onsubmit="handleRegister(event)">
                        <div class="form-group">
                            <label><i class="fas fa-user"></i> الاسم</label>
                            <input type="text" name="name" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label><i class="fas fa-envelope"></i> البريد الإلكتروني</label>
                            <input type="email" name="email" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label><i class="fas fa-phone"></i> رقم الهاتف</label>
                            <input type="tel" name="phone" class="form-control" pattern="[0-9]{11}" required
                                   title="الرجاء إدخال رقم هاتف صحيح مكون من 11 رقم">
                        </div>
                        <div class="form-group">
                            <label><i class="fas fa-lock"></i> كلمة المرور</label>
                            <input type="password" name="password" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label><i class="fas fa-lock"></i> تأكيد كلمة المرور</label>
                            <input type="password" name="confirmPassword" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label><i class="fas fa-user-tag"></i> نوع الحساب</label>
                            <select name="role" class="form-control" required>
                                <option value="farmer">فلاح</option>
                                <option value="merchant">تاجر</option>
                                <option value="consumer">مستهلك</option>
                                <option value="factory">مصنع</option>
                            </select>
                        </div>
                        <button type="submit" class="btn">
                            <i class="fas fa-user-plus"></i>
                            تسجيل
                        </button>
                    </form>
                </div>
            </div>
        </div>

        <div id="dashboardView" style="display: none;">
            <div class="nav">
                <h2 id="welcomeMessage"></h2>
                <button onclick="logout()" class="btn">
                    <i class="fas fa-sign-out-alt"></i>
                    تسجيل الخروج
                </button>
            </div>
            <div id="mainContent" class="container"></div>
        </div>

        <div class="container" style="display: none;">
            <div class="card animate-in">
                <h3><i class="fas fa-star"></i> تقييمات الفلاح</h3>
                <div id="farmerRatings">
                    <!-- سيتم ملء التقييمات هنا -->
                </div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
    <script src="loading.js"></script>
</html>